"use strict";!function(){var e,t=document.getElementById("msg"),o=localStorage.getItem("clashEditor:config:general"),n=CodeMirror(document.getElementById("general-editor"),{lineNumbers:!0,mode:"yaml"});o&&""!==o&&n.setValue(o),document.getElementById("ce-general-btn-validate").addEventListener("click",function(){try{e=jsyaml.load(n.getValue());try{e.port&&e["socks-port"]&&"boolean"==typeof e["allow-lan"]?(setLS("clashEditor:config:general",n.getValue()),t.innerHTML='<span class="text-success">你的 General 配置符合要求，你可以「继续」下一步了</span>',document.getElementById("ce-general-btn-continue").classList.remove("disabled"),document.getElementById("ce-general-btn-continue").removeAttribute("disabled")):Modal("你的 General 配置不符合要求！","General 配置必须是合法的 YAML 格式，并且必须包括 <code>port</code>，<code>socks-port</code> 和 <code>allow-lan</code>")}catch(e){Modal("你的 General 配置不符合要求！","General 配置必须是合法的 YAML 格式，并且必须包括 <code>port</code>，<code>socks-port</code> 和 <code>allow-lan</code> 属性。")}}catch(e){Modal("这看起来不太正常","<p>Clash Editor 不能解析您提交的 YAML 内容</p>\n                <p>报错信息如下所示：</p>\n                <p><code>".concat(e,"</code></p>\n                <p>如果您认为这不是您的问题，请在 Clash Editor 的 GitHub 上提交一条 issue，并在 issue 中附上报错信息以供调试</p>"))}})}();